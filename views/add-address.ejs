<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" href="/images/logo.png" type="image/png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title><%= isEdit ? "Edit Address" : "Add Address" %> | MyAccount</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 flex items-center justify-center min-h-screen px-4">

  <div class="w-full max-w-lg bg-white p-8 rounded-2xl shadow-2xl">
    <h1 class="text-3xl font-bold text-gray-800 mb-6 text-center">
      <%= isEdit ? "Edit Address" : "Add Address" %>
    </h1>

    <form action="<%= isEdit ? '/edit-address' : '/add-address' %>" method="POST" class="space-y-5">

         <div>
        <label for="street" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
        <input
          id="street"
          name="name"
          type="text"
          value="<%= currUser.name || '' %>"
          placeholder="Full Name"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none"
        />
      </div>

      <div>
        <label for="street" class="block text-sm font-medium text-gray-700 mb-1">Street Address</label>
        <input
          id="street"
          name="street"
          type="text"
          value="<%= currUser.address?.street || '' %>"
          placeholder="123 Main St"
          required
          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none"
        />
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label for="city" class="block text-sm font-medium text-gray-700 mb-1">City</label>
          <input
            id="city"
            name="city"
            type="text"
            value="<%= currUser.address?.city || '' %>"
            placeholder="City"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none"
          />
        </div>

        <div>
          <label for="state" class="block text-sm font-medium text-gray-700 mb-1">State</label>
          <input
            id="state"
            name="state"
            type="text"
            value="<%= currUser.address?.state || '' %>"
            placeholder="State"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none"
          />
        </div>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label for="pincode" class="block text-sm font-medium text-gray-700 mb-1">Pincode</label>
          <input
            id="pincode"
            name="pincode"
            type="text"
            value="<%= currUser.address?.pincode || '' %>"
            placeholder="e.g. 110001"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none"
          />
        </div>

        <div>
          <label for="mobile" class="block text-sm font-medium text-gray-700 mb-1">Mobile Number</label>
          <input
            id="mobile"
            name="mobile"
            type="text"
            value="<%= currUser.mobile || '' %>"
            placeholder="e.g. 9876543210"
            required
            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:outline-none"
          />
        </div>
      </div>

      <button
        type="submit"
        class="w-full py-3 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition duration-200"
      >
        Save Address
      </button>
    </form>
  </div>

  <script src="/js/security.js"></script>
</body>
</html>
